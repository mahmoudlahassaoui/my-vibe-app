doctype html
html
  head
    title Welcome to My Vibe.d App
    link(rel="stylesheet", href="/style.css")
    script
      | function changeBackgroundColor() {
      |   const colors = ['#f5f5f5', '#e8f4fd', '#fff2e8', '#f0fff0', '#fff0f5', '#f0f8ff', '#fdf5e6', '#f5fffa'];
      |   const currentColor = document.body.style.backgroundColor || '#f5f5f5';
      |   let newColor;
      |   do {
      |     newColor = colors[Math.floor(Math.random() * colors.length)];
      |   } while (newColor === currentColor);
      |   document.body.style.backgroundColor = newColor;
      | }
  body
    nav
      ul
        li: a(href="/") Home
        - if (isLoggedIn)
          li: a(href="/contact") Contact
          li: a(href="/messages") Messages
          li: a(href="/logout") Logout (#{username})
        - else
          li: a(href="/login") Login
          li: a(href="/register") Register
    
    .container
      - if (isLoggedIn)
        h1 ğŸ‰ Welcome back, #{username}!
        .success
          p You are logged in and ready to use all features!
      - else
        h1 ğŸ‘‹ Welcome to My Vibe.d App!
        p Please login or register to access all features.
      
      .stats
        p ğŸ“Š Total messages received: #{messageCount}
      
      h2 What can you do?
      ul.feature-list
        - if (isLoggedIn)
          li âœ… Send contact messages
          li âœ… View all messages
          li âœ… Access your account
          li âœ… Secure session management
        - else
          li ğŸ” Create an account to get started
          li ğŸ” Login to access messaging features
          li ğŸ“– Learn about Vibe.d web development
      
      .actions
        - if (isLoggedIn)
          a.btn(href="/contact") Send Message
          a.btn.secondary(href="/messages") View Messages
        - else
          a.btn(href="/register") Get Started
          a.btn.secondary(href="/login") Login
      
      .fun-section
        h2 ğŸ¨ Fun Zone
        button.color-btn(onclick="changeBackgroundColor()") Change Background Color!